(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{373:function(t,i,s){"use strict";s.r(i);var n=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"c-component"},[s("navigation",{attrs:{topRoute:t.topRoute,position:t.position}}),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"in"},[s("div",{staticClass:"top"},[s("form",{on:{submit:function(i){return i.preventDefault(),t.submit(i)}}},[t._m(0),t._v(" "),s("div",{staticClass:"filter-options"},[s("div",{staticClass:"option"},[s("div",{staticClass:"field"},[t._v("ID：")]),t._v(" "),s("div",{staticClass:"value"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.id,expression:"form.id"}],staticClass:"form-text",attrs:{type:"text"},domProps:{value:t.form.id},on:{input:function(i){i.target.composing||t.$set(t.form,"id",i.target.value)}}})])]),t._v(" "),s("div",{staticClass:"option"},[s("div",{staticClass:"field"},[t._v("群推类型：")]),t._v(" "),s("div",{staticClass:"value"},[s("i-select",{staticStyle:{width:"200px"},model:{value:t.form.push_type,callback:function(i){t.$set(t.form,"push_type",i)},expression:"form.push_type"}},t._l(t.business.push_type_for_user,(function(i,n){return s("i-option",{key:n,attrs:{value:n}},[t._v(t._s(i))])})),1)],1)]),t._v(" "),s("div",{staticClass:"option"},[s("div",{staticClass:"field"},[t._v("推送群体：")]),t._v(" "),s("div",{staticClass:"value"},[s("i-select",{staticStyle:{width:"200px"},model:{value:t.form.role,callback:function(i){t.$set(t.form,"role",i)},expression:"form.role"}},t._l(t.business.role_for_push,(function(i,n){return s("i-option",{key:n,attrs:{value:n}},[t._v(t._s(i))])})),1)],1)]),t._v(" "),s("div",{staticClass:"option"},[s("div",{staticClass:"field"},[t._v("推送类型：")]),t._v(" "),s("div",{staticClass:"value"},[s("i-select",{staticStyle:{width:"200px"},model:{value:t.form.type,callback:function(i){t.$set(t.form,"type",i)},expression:"form.type"}},t._l(t.business.push_type_for_push,(function(i,n){return s("i-option",{key:n,attrs:{value:n}},[t._v(t._s(i))])})),1)],1)]),t._v(" "),s("div",{staticClass:"option"},[s("div",{staticClass:"field"}),t._v(" "),s("div",{staticClass:"value"},[s("v-button",{attrs:{type:"submit",color:"blue"}},[t._v("提交")])],1)])])])]),t._v(" "),s("div",{staticClass:"btm list"},[s("div",{staticClass:"data"},[s("div",{staticClass:"run-title"},[s("div",{staticClass:"left"},[t._v("数据列表")]),t._v(" "),s("div",{staticClass:"right"},[s("v-button",{attrs:{color:"orange"},on:{click:function(i){return t.del(t.idList)}}},[t._v("删除")]),t._v(" "),s("v-button",{attrs:{color:"blue"},on:{click:function(i){return t.location("/push/add",{mode:"add"},"_blank")}}},[t._v("添加")])],1)]),t._v(" "),s("table",{staticClass:"line-tb"},[s("thead",[s("tr",[s("th",{staticClass:"th-checkbox"},[s("i-checkbox",{on:{"on-change":t.selectAllEvent}})],1),t._v(" "),s("th",{staticClass:"th-id"},[t._v("\n                                ID\n                                "),s("v-order",{attrs:{asc:"id|asc",desc:"id|desc"},on:{"on-change":t.order}})],1),t._v(" "),s("th",{staticClass:"w-80"},[t._v("群推类型")]),t._v(" "),s("th",{staticClass:"w-80"},[t._v("推送群体")]),t._v(" "),s("th",{staticClass:"w-80"},[t._v("目标用户")]),t._v(" "),s("th",{staticClass:"w-80"},[t._v("推送类型")]),t._v(" "),s("th",{staticClass:"w-150"},[t._v("推送标题")]),t._v(" "),s("th",{staticClass:"w-200"},[t._v("推送内容")]),t._v(" "),s("th",{staticClass:"w-100"},[t._v("\n                                创建时间\n                                "),s("v-order",{attrs:{asc:"create_time|asc",desc:"create_time|desc"},on:{"on-change":t.order}})],1),t._v(" "),s("th",{staticClass:"w-150"},[t._v("操作")])])]),t._v(" "),s("tbody",{ref:"tbody"},[t._l(t.listData,(function(i,n){return s("tr",{key:i.id,on:{click:function(s){return t.selectEvent(i.id)}}},[s("td",[s("i-checkbox-group",{model:{value:t.idList,callback:function(i){t.idList=i},expression:"idList"}},[s("i-checkbox",{attrs:{label:i.id}})],1)],1),t._v(" "),s("td",[t._v(t._s(i.id))]),t._v(" "),s("td",[t._v(t._s(i.push_type_explain))]),t._v(" "),s("td",[t._v(t._s(i.role_explain))]),t._v(" "),s("td",[t._v(t._s(i.user_id))]),t._v(" "),s("td",[t._v(t._s(i.type_explain))]),t._v(" "),s("td",[t._v(t._s(i.title))]),t._v(" "),s("td",[t._v(t._s(i.content))]),t._v(" "),s("td",[t._v(t._s(i.create_time))]),t._v(" "),s("td",[s("v-button",{attrs:{color:"blue"},on:{click:function(s){return t.location("/push/edit",{id:i.id,mode:"edit"})}}},[t._v("编辑")]),t._v(" "),s("v-button",{attrs:{color:"orange"},on:{click:function(s){return t.del([i.id])}}},[t._v("删除")]),t._v(" "),s("v-button",{attrs:{color:"yellow"},on:{click:function(s){return t.push(i.id)}}},[t._v("推送")])],1)])})),t._v(" "),0==t.listData.length?s("tr",[s("td",{attrs:{colspan:"10"}},[t._v("没有相关数据")])]):t._e()],2)])]),t._v(" "),s("div",{staticClass:"page"},[s("i-page",{attrs:{total:t.page.total,current:t.form.page,"page-size":t.form.limit,size:"small","show-total":"","show-elevator":""},on:{"on-change":t.pageEvent}})],1)])])]),t._v(" "),s("v-loading",{ref:"loading"})],1)};n._withStripped=!0;var e={name:"v-list",data:function(){return{form:{id:"",push_type:"",type:"",role:"",order:"",page:1,limit:topContext.page.limit},ins:{loading:null},pending:{del:null},dom:{},listData:[],idList:[],page:{total:0}}},created:function(){},mounted:function(){this.initDom(),this.initIns(),this.getData()},methods:{initDom:function(){},initIns:function(){this.ins.loading=this.$refs.loading.ins.loading},getData:function(){var t=this;this.pending.get?this.alert("请求中...请耐心等待"):(this.pending.get=!0,this.ins.loading.listen("close",(function(){t.pending.get=!1})),this.ins.loading.show(),Api.push.list(this.form,(function(i){t.listData=i.data,t.form.page=i.current_page,t.page.total=i.total}),null,(function(){t.ins.loading.hide(),t.ins.loading.listen("close",null),t.pending.get=!1})))},pageEvent:function(t){this.form.page=t,this.reloadData()},order:function(){},selectEvent:function(t){var i=this.idList.indexOf(t);i>=0?this.idList.splice(i,1):this.idList.push(t)},selectAllEvent:function(t){t?this.selectedAll():this.unselectedAll()},selectedAll:function(){var t,i;for(this.idList=[],t=0;t<this.listData.length;++t)i=this.listData[t],this.idList.push(i.id)},unselectedAll:function(){this.idList=[]},submit:function(){this.reloadData(!0)},reloadData:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&(this.form.page=1),this.getData()},del:function(t){var i=this;this.alert("确定删除吗？",{btn:[{name:"删除",callback:function(){this.hide(),i.ins.loading.show(),i.ins.loading.listen("close",(function(){i.pending.del=!1})),Api.push.del(t,(function(t){i.alert("操作成功"),i.reloadData()}),(function(t){i.alert(t)}),(function(){i.pending.del=!1,i.ins.loading.listen("close",null)}))}},{name:"取消",callback:function(){this.hide()}}]})},push:function(t){var i=this;this.pending.push?this.alert("请求中...请耐心等待"):(this.pending.push=!0,this.ins.loading.show(),this.ins.loading.listen("close",(function(){i.pending.push=!1})),Api.push.push(t,(function(){i.alert("操作成功")}),(function(t){i.alert(t)}),(function(){i.pending.push=!1,i.ins.loading.hide(),i.ins.loading.listen("close",null)})))}}},a=(s(380),s(381),s(382),s(465),s(14)),o=Object(a.a)(e,n,[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"run-title"},[i("div",{staticClass:"left"},[this._v("筛选")]),this._v(" "),i("div",{staticClass:"right"})])}],!1,null,"9de35a1c",null);o.options.__file="source/vue/component/push/list.vue";i.default=o.exports},377:function(t,i,s){},378:function(t,i,s){},379:function(t,i,s){},380:function(t,i,s){"use strict";var n=s(377);s.n(n).a},381:function(t,i,s){"use strict";var n=s(378);s.n(n).a},382:function(t,i,s){"use strict";var n=s(379);s.n(n).a},418:function(t,i,s){},465:function(t,i,s){"use strict";var n=s(418);s.n(n).a}}]);