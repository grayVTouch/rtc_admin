(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{366:function(t,i,n){"use strict";n.r(i);var s=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"c-component"},[n("navigation",{attrs:{topRoute:t.topRoute,position:t.position}}),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"in"},[n("div",{staticClass:"top"}),t._v(" "),n("div",{staticClass:"btm list"},[n("div",{staticClass:"data"},[n("div",{staticClass:"run-title"},[n("div",{staticClass:"left"},[t._v("数据列表")]),t._v(" "),n("div",{staticClass:"right"},[n("v-button",{attrs:{color:"orange",has:!0,ico:"del"},on:{click:function(i){return t.del(t.idList)}}},[t._v("删除选中项")]),t._v(" "),n("v-button",{attrs:{color:"blue",has:!0,ico:"add"},on:{click:function(i){return t.location("/article_type/add",{mode:"add"},"_blank")}}},[t._v("添加")])],1)]),t._v(" "),n("table",{staticClass:"line-tb"},[n("thead",[n("tr",[n("th",{staticClass:"th-checkbox"},[n("i-checkbox",{on:{"on-change":t.selectAllEvent}})],1),t._v(" "),n("th",{staticClass:"th-id"},[t._v("ID")]),t._v(" "),n("th",{staticClass:"th-name"},[t._v("名称")]),t._v(" "),n("th",{staticClass:"th-status"},[t._v("启用？")]),t._v(" "),n("th",{staticClass:"th-time"},[t._v("时间")]),t._v(" "),n("th",{staticClass:"th-opr"},[t._v("操作")])])]),t._v(" "),n("tbody",{ref:"tbody"},[t._l(t.listData,(function(i){return n("tr",{key:i.id,on:{click:function(n){return t.selectEvent(i.id)}}},[n("td",[n("i-checkbox-group",{model:{value:t.idList,callback:function(i){t.idList=i},expression:"idList"}},[n("i-checkbox",{attrs:{label:i.id}})],1)],1),t._v(" "),n("td",[t._v(t._s(i.id))]),t._v(" "),n("td",{staticClass:"text-left"},[t._v(t._s(i.floor>1?"|"+"_".repeat(4*(i.floor-1)):"")+t._s(i.name))]),t._v(" "),n("td",{on:{click:function(t){t.stopPropagation()}}},[n("v-switch",{attrs:{size:"small",extra:{id:i.id,field:"enable"}},on:{"on-change":t.singleEdit},model:{value:i.enable,callback:function(n){t.$set(i,"enable",n)},expression:"v.enable"}})],1),t._v(" "),n("td",[t._v(t._s(i.create_time))]),t._v(" "),n("td",[n("v-button",{attrs:{color:"blue",has:!0,ico:"edit"},on:{click:function(n){return t.location("/article_type/edit",{id:i.id,mode:"edit"})}}},[t._v("编辑")]),t._v(" "),n("v-button",{attrs:{color:"orange",has:!0,ico:"del"},on:{click:function(n){return t.del([i.id])}}},[t._v("删除")])],1)])})),t._v(" "),0==t.listData.length?n("tr",[n("td",{attrs:{colspan:"6"}},[t._v("没有相关数据")])]):t._e()],2)])]),t._v(" "),n("div",{staticClass:"page"})])])]),t._v(" "),n("v-loading",{ref:"loading"})],1)};s._withStripped=!0;var e={name:"v-list",data:function(){return{form:{},ins:{loading:null},pending:{del:null},dom:{},listData:[],idList:[]}},created:function(){},mounted:function(){this.initDom(),this.initInstance(),this.getData()},components:{},methods:{initDom:function(){},initInstance:function(){this.ins.loading=this.$refs.loading.ins.loading},getData:function(){var t=this;this.pending.get?this.alert("请求中...请耐心等待"):(this.pending.get=!0,this.ins.loading.listen("close",(function(){t.pending.get=!1})),this.ins.loading.show(),Api.article_type.all((function(i){t.listData=i}),null,(function(){t.ins.loading.hide(),t.ins.loading.listen("close",null),t.pending.get=!1})))},selectEvent:function(t){var i=this.idList.indexOf(t);i>=0?this.idList.splice(i,1):this.idList.push(t)},selectAllEvent:function(t){t?this.selectedAll():this.unselectedAll()},selectedAll:function(){var t,i;for(this.idList=[],t=0;t<this.listData.length;++t)i=this.listData[t],this.idList.push(i.id)},unselectedAll:function(){this.idList=[]},reloadData:function(){this.getData()},del:function(t){var i=this;this.alert("确定删除吗？",{btn:[{name:"删除",callback:function(){this.hide(),i.ins.loading.show(),i.ins.loading.listen("close",(function(){i.pending.del=!1})),Api.article_type.del(t,(function(t){i.alert("操作成功"),i.reloadData()}),(function(t,n){i.alert(t)}),(function(){i.pending.del=!1,i.ins.loading.hide(),i.ins.loading.listen("close",null)}))}},{name:"取消",callback:function(){this.hide()}}]})},singleEdit:function(t,i){var n=this;this.ins.loading.show(),Api.article_type.singleEdit({id:i.id,field:i.field,value:t},null,(function(t){n.alert(t)}),(function(){n.reloadData()}))}}},a=(n(388),n(409),n(457),n(14)),l=Object(a.a)(e,s,[],!1,null,null,null);l.options.__file="source/vue/component/article_type/list.vue";i.default=l.exports},383:function(t,i,n){},387:function(t,i,n){},388:function(t,i,n){"use strict";var s=n(383);n.n(s).a},409:function(t,i,n){"use strict";var s=n(387);n.n(s).a},410:function(t,i,n){},457:function(t,i,n){"use strict";var s=n(410);n.n(s).a}}]);