{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{356:function(t,i,s){\"use strict\";s.r(i);var n=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s(\"div\",{staticClass:\"c-component\"},[s(\"navigation\",{attrs:{topRoute:t.topRoute,position:t.position}}),t._v(\" \"),s(\"div\",{staticClass:\"content\"},[s(\"div\",{staticClass:\"in\"},[s(\"div\",{staticClass:\"top\"},[s(\"form\",{on:{submit:function(i){return i.preventDefault(),t.submit(i)}}},[t._m(0),t._v(\" \"),s(\"div\",{staticClass:\"filter-options\"},[s(\"div\",{staticClass:\"option\"},[s(\"div\",{staticClass:\"field\"},[t._v(\"ID：\")]),t._v(\" \"),s(\"div\",{staticClass:\"value\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form.id,expression:\"form.id\"}],staticClass:\"form-text\",attrs:{type:\"text\"},domProps:{value:t.form.id},on:{input:function(i){i.target.composing||t.$set(t.form,\"id\",i.target.value)}}})])]),t._v(\" \"),t._m(1)])])]),t._v(\" \"),s(\"div\",{staticClass:\"btm list\"},[s(\"div\",{staticClass:\"data\"},[t._m(2),t._v(\" \"),s(\"table\",{staticClass:\"line-tb\"},[s(\"thead\",[s(\"tr\",[s(\"th\",{staticClass:\"th-checkbox\"},[s(\"i-checkbox\",{on:{\"on-change\":t.selecAllEvent}})],1),t._v(\" \"),s(\"th\",{staticClass:\"th-id\"},[t._v(\"\\n                                ID\\n                                \"),s(\"span\",{staticClass:\"arrow\"},[s(\"i\",{staticClass:\"run-iconfont run-arrow top\",attrs:{\"data-order\":\"id|asc\"},on:{click:t.order}}),t._v(\" \"),s(\"i\",{staticClass:\"run-iconfont run-arrow btm\",attrs:{\"data-order\":\"id|desc\"},on:{click:t.order}})])]),t._v(\" \"),s(\"th\",{staticClass:\"w-130\"},[t._v(\"用户\")]),t._v(\" \"),s(\"th\",{staticClass:\"w-130\"},[t._v(\"状态\")]),t._v(\" \"),s(\"th\",{staticClass:\"w-130\"},[t._v(\"用户添加好友选项\")]),t._v(\" \"),s(\"th\",{staticClass:\"w-130\"},[t._v(\"用户选项\")]),t._v(\" \"),s(\"th\",{staticClass:\"w-100\"},[t._v(\"\\n                                创建时间\\n                                \"),s(\"span\",{staticClass:\"arrow\"},[s(\"i\",{staticClass:\"run-iconfont run-arrow top\",attrs:{\"data-order\":\"create_time|asc\"},on:{click:t.order}}),t._v(\" \"),s(\"i\",{staticClass:\"run-iconfont run-arrow btm\",attrs:{\"data-order\":\"create_time|desc\"},on:{click:t.order}})])]),t._v(\" \"),s(\"th\",{staticClass:\"w-100\"},[t._v(\"操作\")])])]),t._v(\" \"),s(\"tbody\",{ref:\"tbody\"},[t._l(t.listData,(function(i,n){return s(\"tr\",{key:i.id,on:{click:function(s){return t.selectEvent(i.id)}}},[s(\"td\",[s(\"i-checkbox-group\",{model:{value:t.idList,callback:function(i){t.idList=i},expression:\"idList\"}},[s(\"i-checkbox\",{attrs:{label:i.id}})],1)],1),t._v(\" \"),s(\"td\",{staticClass:\"multiple-rows\"},[s(\"div\",{staticClass:\"row\"},[t._v(\"【ID】\"),s(\"span\",{staticClass:\"weight\"},[t._v(t._s(i.id))])]),t._v(\" \"),s(\"div\",{staticClass:\"row\"},[s(\"img\",{staticClass:\"image\",attrs:{src:i.avatar_explain}})])]),t._v(\" \"),s(\"td\",{staticClass:\"multiple-rows\"},[s(\"div\",{staticClass:\"row\"},[t._v(\"【标识符】\"),s(\"span\",{staticClass:\"weight\",attrs:{title:i.identifier}},[t._v(t._s(i.identifier))])]),t._v(\" \"),s(\"div\",{staticClass:\"row\"},[t._v(\"【用户名】\"),s(\"span\",{staticClass:\"weight\",attrs:{title:i.name}},[t._v(t._s(i.name))])]),t._v(\" \"),s(\"div\",{staticClass:\"row\"},[t._v(\"【昵称】\"),s(\"span\",{staticClass:\"weight\",attrs:{title:i.nickname}},[t._v(t._s(i.nickname))])]),t._v(\" \"),s(\"div\",{staticClass:\"row\"},[t._v(\"【角色】\"),s(\"span\",{staticClass:\"weight\",attrs:{title:i.role_explain}},[t._v(t._s(i.role_explain))])]),t._v(\" \"),s(\"div\",{staticClass:\"row\"},[t._v(\"【区号】\"),s(\"span\",{staticClass:\"weight\",attrs:{title:i.area_code}},[t._v(t._s(i.area_code))])]),t._v(\" \"),s(\"div\",{staticClass:\"row\"},[t._v(\"【手机号码】\"),s(\"span\",{staticClass:\"weight\",attrs:{title:i.phone}},[t._v(t._s(i.phone))])])]),t._v(\" \"),s(\"td\",{staticClass:\"multiple-rows\"},[s(\"div\",{staticClass:\"row\"},[t._v(\"【系统用户？】\"),s(\"span\",{staticClass:\"weight\",class:i.is_system?\"red\":\"\"},[t._v(t._s(i.is_system_explain))])]),t._v(\" \"),s(\"div\",{staticClass:\"row\"},[t._v(\"【临时用户？】\"),s(\"span\",{staticClass:\"weight\",class:i.is_temp?\"red\":\"\"},[t._v(t._s(i.is_temp_explain))])])]),t._v(\" \"),s(\"td\",{staticClass:\"multiple-rows\"},t._l(i.user_join_friend_option,(function(n){return s(\"div\",{staticClass:\"row\",on:{click:function(t){t.stopPropagation()}}},[s(\"div\",{staticClass:\"field fix-field\"},[t._v(\"【\"+t._s(n.join_friend_method.name)+\"】\")]),t._v(\" \"),s(\"div\",{staticClass:\"value\"},[s(\"vv-switch\",{attrs:{id:i.id,join_friend_method_id:n.join_friend_method_id},on:{\"on-change\":t.singleEditUserJoinFriendOption},model:{value:n.enable,callback:function(i){t.$set(n,\"enable\",i)},expression:\"v1.enable\"}})],1)])})),0),t._v(\" \"),s(\"td\",{staticClass:\"multiple-rows\"},[s(\"div\",{staticClass:\"row\",on:{click:function(t){t.stopPropagation()}}},[t._v(\"\\n                                    【私聊通知】\\n                                    \"),s(\"vvv-switch\",{attrs:{id:i.id,field:\"private_notification\"},on:{\"on-change\":t.singleEditUserOption},model:{value:i.user_option.private_notification,callback:function(s){t.$set(i.user_option,\"private_notification\",s)},expression:\"v.user_option.private_notification\"}})],1),t._v(\" \"),s(\"div\",{staticClass:\"row\",on:{click:function(t){t.stopPropagation()}}},[t._v(\"\\n                                    【群聊通知】\\n                                    \"),s(\"vvv-switch\",{attrs:{id:i.id,field:\"group_notification\"},on:{\"on-change\":t.singleEditUserOption},model:{value:i.user_option.group_notification,callback:function(s){t.$set(i.user_option,\"group_notification\",s)},expression:\"v.user_option.group_notification\"}})],1),t._v(\" \"),s(\"div\",{staticClass:\"row\",on:{click:function(t){t.stopPropagation()}}},[t._v(\"\\n                                    【输入状态】\\n                                    \"),s(\"vvv-switch\",{attrs:{id:i.id,field:\"write_status\"},on:{\"on-change\":t.singleEditUserOption},model:{value:i.user_option.write_status,callback:function(s){t.$set(i.user_option,\"write_status\",s)},expression:\"v.user_option.write_status\"}})],1),t._v(\" \"),s(\"div\",{staticClass:\"row\",on:{click:function(t){t.stopPropagation()}}},[t._v(\"\\n                                    【好友验证】\\n                                    \"),s(\"vvv-switch\",{attrs:{id:i.id,field:\"friend_auth\"},on:{\"on-change\":t.singleEditUserOption},model:{value:i.user_option.friend_auth,callback:function(s){t.$set(i.user_option,\"friend_auth\",s)},expression:\"v.user_option.friend_auth\"}})],1),t._v(\" \"),s(\"div\",{staticClass:\"row\",on:{click:function(t){t.stopPropagation()}}},[t._v(\"\\n                                    【全局禁言】\\n                                    \"),s(\"vvv-switch\",{attrs:{id:i.id,field:\"banned\"},on:{\"on-change\":t.singleEditUserOption},model:{value:i.user_option.banned,callback:function(s){t.$set(i.user_option,\"banned\",s)},expression:\"v.user_option.banned\"}})],1),t._v(\" \"),s(\"div\",{staticClass:\"row\",on:{click:function(t){t.stopPropagation()}}},[t._v(\"\\n                                    【自动清理私聊消息】\\n                                    \"),s(\"i-tooltip\",{attrs:{content:\"点击修改值\",placement:\"top\"}},[s(\"span\",{staticClass:\"weight\",class:i.user_option&&\"none\"==i.user_option.clear_timer_for_private?\"green\":\"\",on:{click:function(s){return s.stopPropagation(),t.editClearTimer(i.id,\"private\")}}},[t._v(t._s(i.user_option?i.user_option.clear_timer_for_private_explain:\"待查\"))])])],1),t._v(\" \"),s(\"div\",{staticClass:\"row\",on:{click:function(t){t.stopPropagation()}}},[t._v(\"\\n                                    【自动清理群聊消息】\\n                                    \"),s(\"i-tooltip\",{attrs:{placement:\"bottom\",content:\"点击可修改值\"}},[s(\"span\",{staticClass:\"weight\",class:i.user_option&&\"none\"==i.user_option.clear_timer_for_group?\"green\":\"\",on:{click:function(s){return s.stopPropagation(),t.editClearTimer(i.id,\"group\")}}},[t._v(t._s(i.user_option?i.user_option.clear_timer_for_group_explain:\"待查\"))])])],1)]),t._v(\" \"),s(\"td\",[t._v(t._s(i.create_time))]),t._v(\" \"),s(\"td\",{staticClass:\"multiple-rows\"},[s(\"div\",{staticClass:\"row\"},[s(\"button\",{staticClass:\"run-button run-button-yellow\",attrs:{type:\"button\"},on:{click:function(s){return s.stopPropagation(),t.location(\"/user/edit\",{id:i.id,mode:\"edit\"})}}},[t._v(\"编辑 \"),s(\"i\",{staticClass:\"run-iconfont run-iconfont-edit\"})])])])])})),t._v(\" \"),0==t.listData.length?s(\"tr\",[s(\"td\",{attrs:{colspan:\"8\"}},[t._v(\"没有相关数据\")])]):t._e()],2)])]),t._v(\" \"),s(\"div\",{staticClass:\"page\"},[s(\"i-page\",{attrs:{total:t.page.total,current:t.form.page,\"page-size\":t.form.limit,size:\"small\",\"show-total\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":t.pageEvent}})],1)])])]),t._v(\" \"),s(\"v-loading\",{ref:\"loading\"})],1)};n._withStripped=!0;var e={name:\"v-list\",data:function(){return{form:{id:\"\",order:\"\",page:1,limit:topContext.page.limit},ins:{loading:null},pending:{del:null},dom:{},listData:[],idList:[],page:{total:0}}},created:function(){},mounted:function(){this.initDom(),this.initInstance(),this.getData()},components:{\"vv-switch\":{props:{id:{required:!0},join_friend_method_id:{required:!0},value:{default:0}},data:function(){return{value_:0}},created:function(){this.value_=this.value},model:{prop:\"value\",event:\"change\"},methods:{changeEvent:function(t){this.$emit(\"on-change\",this.id,this.join_friend_method_id,t)}},watch:{value_:function(t,i){this.$emit(\"change\",t)}},template:'<v-switch v-model=\"value_\" size=\"small\" @on-change=\"changeEvent\"></v-switch>'},\"vvv-switch\":{props:{id:{required:!0},field:{required:!0},value:{default:0}},data:function(){return{value_:0}},created:function(){this.value_=this.value},model:{prop:\"value\",event:\"change\"},methods:{changeEvent:function(t){this.$emit(\"on-change\",this.id,this.field,t)}},watch:{value_:function(t,i){this.$emit(\"change\",t)}},template:'<v-switch v-model=\"value_\" size=\"small\" @on-change=\"changeEvent\"></v-switch>'}},methods:{initDom:function(){},initInstance:function(){this.ins.loading=this.$refs.loading.ins.loading},getData:function(){var t=this;this.pending.get?Prompt.alert(\"请求中...请耐心等待\"):(this.pending.get=!0,this.ins.loading.listen(\"close\",(function(){t.pending.get=!1})),this.ins.loading.show(),this.listData=[],G.scrollTo(0,\"y\",0,0),Api.user.list(this.form,(function(i){t.listData=i.data,t.form.page=i.current_page,t.page.total=i.total}),null,(function(){t.ins.loading.hide(),t.ins.loading.listen(\"close\",null),t.pending.get=!1})))},pageEvent:function(t){this.form.page=t,this.submit()},order:function(){},selectEvent:function(t){var i=this.idList.indexOf(t);i>=0?this.idList.splice(i,1):this.idList.push(t)},selecAllEvent:function(t){t?this.selectedAll():this.unselectedAll()},selectedAll:function(){var t,i;for(this.idList=[],t=0;t<this.listData.length;++t)i=this.listData[t],this.idList.push(i.id)},unselectedAll:function(){this.idList=[]},submit:function(){this.getData()},reload:function(){this.getData()},del:function(t){var i=this;Prompt.alert(\"确定删除吗？\",{btn:[{name:\"删除\",callback:function(){this.hide(),i.ins.loading.show(),i.ins.loading.listen(\"close\",(function(){i.pending.del=!1})),Api.user.del(t,(function(t){Prompt.alert(\"操作成功\"),i.reload()}),null,(function(){i.pending.del=!1,i.ins.loading.listen(\"close\",null)}))}},{name:\"取消\",callback:function(){this.hide()}}]})},singleEditUserJoinFriendOption:function(t,i,s){var n=this,e=this;this.ins.loading.show(),Api.user.singleEditUserJoinFriendOption({id:t,join_friend_method_id:i,enable:s},null,(function(t){n.alert(t,{btn:[{name:\"确认\",callback:function(){this.hide(),e.reload()}}]})}),(function(){n.ins.loading.hide()}))},singleEditUserOption:function(t,i,s){var n=this;this.ins.loading.show(),Api.user.singleEditUserOption({id:t,field:i,value:s},null,(function(t){n.alert(t,{btn:[{name:\"确认\",callback:function(){this.hide()}}]})}),(function(){n.ins.loading.hide(),n.reload()}))},editClearTimer:function(t,i){var s=this,n=\"\";switch(i){case\"private\":n=\"clear_timer_for_private\";break;case\"group\":n=\"clear_timer_for_group\"}var e=[],a=this,o=function(i){var o={name:s.business.clear_timer_range[i],callback:function(){this.hide(),a.singleEditUserOption(t,n,i)}};e.push(o)};for(var l in this.business.clear_timer_range)o(l);this.alert(\"请选择\",{btn:e})}}},a=(s(361),s(364),s(365),s(406),s(40)),o=Object(a.a)(e,n,[function(){var t=this.$createElement,i=this._self._c||t;return i(\"div\",{staticClass:\"run-title\"},[i(\"div\",{staticClass:\"left\"},[this._v(\"筛选\")]),this._v(\" \"),i(\"div\",{staticClass:\"right\"})])},function(){var t=this.$createElement,i=this._self._c||t;return i(\"div\",{staticClass:\"option\"},[i(\"div\",{staticClass:\"field\"}),this._v(\" \"),i(\"div\",{staticClass:\"value\"},[i(\"button\",{staticClass:\"run-button run-button-blue\",attrs:{type:\"submit\"}},[this._v(\"提交\")]),this._v(\" \"),i(\"button\",{staticClass:\"run-button run-button-yellow\",attrs:{type:\"reset\"}},[i(\"i\",{staticClass:\"run-iconfont run-reset\"}),this._v(\"\\n                                    重置\\n                                \")])])])},function(){var t=this.$createElement,i=this._self._c||t;return i(\"div\",{staticClass:\"run-title\"},[i(\"div\",{staticClass:\"left\"},[this._v(\"数据列表\")]),this._v(\" \"),i(\"div\",{staticClass:\"right\"})])}],!1,null,\"9ed2653e\",null);o.options.__file=\"source/vue/component/user/list.vue\";i.default=o.exports},360:function(t,i,s){},361:function(t,i,s){\"use strict\";var n=s(360);s.n(n).a},362:function(t,i,s){},363:function(t,i,s){},364:function(t,i,s){\"use strict\";var n=s(362);s.n(n).a},365:function(t,i,s){\"use strict\";var n=s(363);s.n(n).a},379:function(t,i,s){},406:function(t,i,s){\"use strict\";var n=s(379);s.n(n).a}}]);","extractedComments":[]}